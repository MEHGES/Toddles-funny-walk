local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local animation = Instance.new("Animation")
animation.AnimationId = "rbxassetid://17649553233"

local animationTrack = humanoid:LoadAnimation(animation)

local lastPosition = character.PrimaryPart.Position

local function onUpdate()
    if (character.PrimaryPart.Position - lastPosition).Magnitude > 0.1 then
        if not animationTrack.IsPlaying then
            animationTrack:Play()
        end
    else
        if animationTrack.IsPlaying then
            animationTrack:Stop()
        end
    end
    lastPosition = character.PrimaryPart.Position
end

game:GetService("RunService").RenderStepped:Connect(onUpdate)
